# 2026/02/20 Sat

## Express

- 昨日のエラーを深掘り
  - Express v5から`?`がサポートされなくなった
    - [Express 5 への移行](https://expressjs.com/ja/guide/migrating-5.html#path-syntax)
    - v4までは以下のようにストリングパターンでのマッチングに使用されていたらしい（以下の例では`acd`または`abcd`）

      ```ts
      app.get("/ab?cd", (req, res) => {
        res.send("ab?cd");
      });
      ```

      - [Express でのルーティング](https://expressjs.com/ja/guide/routing.html)

  - そしてExpressはルートパスのマッチングに`path-to-regexp`を使用している
    - [path-to-regexp - npm](https://www.npmjs.com/package/path-to-regexp)
    - この`path-to-regexp`のドキュメントにも`?`はエラーになると記載されている
  - そもそもクエリパラメータはパスの一部ではないということも記載されている
    > Query strings are not part of the route path.
  - おそらくExpressを起動した段階で`?`がパスに含まれていると落ちる（未検証）
    - そしてProvisioned Concurrencyのためにバージョンを作成する時点でLambdaのコードを起動しようとするので、その時点でエラーになってバージョンの更新に失敗するということのようだ（未検証）

## 統計

- E(X)という表記はμ、つまりexpected valueまたはmeanを表す
- binomialの確率は、私が持っているfx-JP700CWでは計算できない😭
